<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Green Screen | AI 綠幕去背</title>
    <meta name="description" content="Professional chroma key green/blue screen removal. 100% local processing.">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Language Switcher -->
        <div class="lang-switcher">
            <button id="lang-zh" class="lang-btn active">繁體中文</button>
            <button id="lang-en" class="lang-btn">English</button>
        </div>

        <!-- Header -->
        <header class="header">
            <h1 data-i18n="title">AI 綠幕去背</h1>
            <p class="subtitle" data-i18n="subtitle">專業色鍵去背，支援綠幕與藍幕素材</p>
        </header>

        <!-- Privacy Badge -->
        <div class="privacy-badge">
            <span class="badge-icon">🔒</span>
            <span data-i18n="privacyBadge">100% 本地處理 · 零資料上傳</span>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Upload Area -->
            <div class="upload-area" id="uploadArea">
                <input type="file" id="fileInput" accept="image/png,image/jpeg,image/webp" hidden>
                <div class="upload-icon">🎬</div>
                <p class="upload-text" data-i18n="uploadText">點擊或拖放綠幕圖片到這裡</p>
                <p class="upload-hint" data-i18n="uploadHint">支援 JPG、PNG、WebP 格式</p>
            </div>

            <!-- Editor Area -->
            <div class="editor-area" id="editorArea" style="display: none;">
                <div class="editor-layout">
                    <!-- Preview Section -->
                    <div class="preview-section">
                        <div class="preview-tabs">
                            <button class="tab-btn active" data-tab="result" data-i18n="tabResult">去背結果</button>
                            <button class="tab-btn" data-tab="original" data-i18n="tabOriginal">原圖</button>
                            <button class="tab-btn" data-tab="mask" data-i18n="tabMask">遮罩</button>
                        </div>
                        <div class="preview-box" id="previewBox">
                            <div class="checkerboard-bg">
                                <canvas id="resultCanvas"></canvas>
                            </div>
                            <canvas id="originalCanvas" style="display: none;"></canvas>
                            <canvas id="maskCanvas" style="display: none;"></canvas>
                        </div>
                        <div class="preview-actions">
                            <button id="resetBtn" class="btn btn-secondary" data-i18n="newImage">選擇新圖片</button>
                            <button id="downloadBtn" class="btn btn-primary" data-i18n="download">下載 PNG</button>
                        </div>
                    </div>

                    <!-- Controls Section -->
                    <div class="controls-section">
                        <h3 data-i18n="chromaSettings">色鍵設定</h3>

                        <!-- Key Color -->
                        <div class="control-group">
                            <label data-i18n="keyColor">去背顏色</label>
                            <div class="color-presets">
                                <button class="color-preset active" data-color="#00ff00" style="background: #00ff00;" title="綠幕"></button>
                                <button class="color-preset" data-color="#0000ff" style="background: #0000ff;" title="藍幕"></button>
                                <button class="color-preset" data-color="#00cc00" style="background: #00cc00;" title="深綠"></button>
                                <button class="color-preset" data-color="#00ffff" style="background: #00ffff;" title="青色"></button>
                                <input type="color" id="customColor" value="#00ff00" title="自訂顏色">
                                <button id="pickerBtn" class="picker-btn" title="從圖片取色">
                                    <span>💧</span>
                                </button>
                            </div>
                        </div>

                        <!-- Tolerance -->
                        <div class="control-group">
                            <label data-i18n="tolerance">容差範圍</label>
                            <div class="slider-row">
                                <input type="range" id="toleranceSlider" min="0" max="100" value="40">
                                <span id="toleranceValue">40%</span>
                            </div>
                        </div>

                        <!-- Softness -->
                        <div class="control-group">
                            <label data-i18n="softness">邊緣柔和度</label>
                            <div class="slider-row">
                                <input type="range" id="softnessSlider" min="0" max="100" value="20">
                                <span id="softnessValue">20%</span>
                            </div>
                        </div>

                        <!-- Spill Suppression -->
                        <div class="control-group">
                            <label data-i18n="spillSuppression">溢色抑制</label>
                            <div class="slider-row">
                                <input type="range" id="spillSlider" min="0" max="100" value="50">
                                <span id="spillValue">50%</span>
                            </div>
                        </div>

                        <!-- Edge Refinement -->
                        <div class="control-group">
                            <label data-i18n="edgeRefinement">邊緣細化</label>
                            <div class="slider-row">
                                <input type="range" id="edgeSlider" min="0" max="10" value="2">
                                <span id="edgeValue">2px</span>
                            </div>
                        </div>

                        <!-- Background Preview -->
                        <div class="control-group">
                            <label data-i18n="previewBg">預覽背景</label>
                            <div class="bg-presets">
                                <button class="bg-preset active" data-bg="checker" title="透明格">
                                    <span class="checker-icon"></span>
                                </button>
                                <button class="bg-preset" data-bg="white" title="白色" style="background: white;"></button>
                                <button class="bg-preset" data-bg="black" title="黑色" style="background: black;"></button>
                                <button class="bg-preset" data-bg="red" title="紅色" style="background: #ef4444;"></button>
                                <input type="color" id="customBgColor" value="#808080" title="自訂背景色">
                            </div>
                        </div>

                        <!-- Quick Presets -->
                        <div class="control-group">
                            <label data-i18n="quickPresets">快速預設</label>
                            <div class="preset-buttons">
                                <button class="preset-btn" data-preset="studio" data-i18n="presetStudio">攝影棚</button>
                                <button class="preset-btn" data-preset="outdoor" data-i18n="presetOutdoor">戶外拍攝</button>
                                <button class="preset-btn" data-preset="lowlight" data-i18n="presetLowlight">低光源</button>
                                <button class="preset-btn" data-preset="sharp" data-i18n="presetSharp">銳利邊緣</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Examples Section -->
        <section class="examples-section" id="examplesSection">
            <h2 data-i18n="tryExamples">試試範例圖片</h2>
            <div class="examples-grid">
                <button class="example-btn" data-url="https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800" data-i18n="examplePerson">人物</button>
                <button class="example-btn" data-url="https://images.unsplash.com/photo-1485827404703-89b55fcc595e?w=800" data-i18n="exampleObject">物品</button>
            </div>
        </section>

        <!-- Info Section -->
        <section class="info-section">
            <h2 data-i18n="howItWorks">如何運作？</h2>
            <div class="info-grid">
                <div class="info-card">
                    <div class="info-icon">🎨</div>
                    <h3 data-i18n="colorKeying">色鍵技術</h3>
                    <p data-i18n="colorKeyingDesc">識別並移除指定顏色範圍的像素</p>
                </div>
                <div class="info-card">
                    <div class="info-icon">🎯</div>
                    <h3 data-i18n="preciseEdge">精確邊緣</h3>
                    <p data-i18n="preciseEdgeDesc">智慧邊緣檢測保留細節如頭髮絲</p>
                </div>
                <div class="info-card">
                    <div class="info-icon">✨</div>
                    <h3 data-i18n="spillRemoval">溢色消除</h3>
                    <p data-i18n="spillRemovalDesc">去除綠幕反射到主體上的顏色</p>
                </div>
                <div class="info-card">
                    <div class="info-icon">⚡</div>
                    <h3 data-i18n="realtime">即時預覽</h3>
                    <p data-i18n="realtimeDesc">調整參數立即看到效果變化</p>
                </div>
            </div>
        </section>

        <!-- Tips Section -->
        <section class="tips-section">
            <h2 data-i18n="tips">拍攝技巧</h2>
            <div class="tips-grid">
                <div class="tip">
                    <span class="tip-icon">💡</span>
                    <p data-i18n="tip1">確保綠幕均勻照明，避免陰影</p>
                </div>
                <div class="tip">
                    <span class="tip-icon">💡</span>
                    <p data-i18n="tip2">主體與綠幕保持適當距離</p>
                </div>
                <div class="tip">
                    <span class="tip-icon">💡</span>
                    <p data-i18n="tip3">避免穿著與綠幕相近的顏色</p>
                </div>
                <div class="tip">
                    <span class="tip-icon">💡</span>
                    <p data-i18n="tip4">使用高解析度拍攝獲得更好效果</p>
                </div>
            </div>
        </section>

        <!-- Tech Specs -->
        <section class="tech-specs">
            <h2 data-i18n="techSpecs">技術規格</h2>
            <table class="specs-table">
                <tr>
                    <td data-i18n="specMethod">去背方法</td>
                    <td data-i18n="specMethodValue">HSV 色鍵演算法</td>
                </tr>
                <tr>
                    <td data-i18n="specColors">支援顏色</td>
                    <td data-i18n="specColorsValue">綠幕、藍幕、自訂色</td>
                </tr>
                <tr>
                    <td data-i18n="specRealtime">即時處理</td>
                    <td data-i18n="specYes">是</td>
                </tr>
                <tr>
                    <td data-i18n="specOutput">輸出格式</td>
                    <td>PNG (含透明背景)</td>
                </tr>
                <tr>
                    <td data-i18n="specRuntime">執行環境</td>
                    <td>Canvas API</td>
                </tr>
            </table>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>
                <a href="../README.md" data-i18n="backToHome">返回首頁</a> ·
                <span data-i18n="toolNumber">工具 #009</span>
            </p>
            <p class="copyright" data-i18n="copyright">Awesome AI Local Tools © 2024</p>
        </footer>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
