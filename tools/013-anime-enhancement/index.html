<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>動漫圖片增強 | Anime Image Enhancement</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <a href="../../" class="back-link" data-i18n="backToHome">← 返回首頁</a>
                    <span class="tool-badge" data-i18n="toolNumber">工具 #013</span>
                </div>
                <div class="lang-switch">
                    <button class="lang-btn active" id="lang-zh">中文</button>
                    <button class="lang-btn" id="lang-en">EN</button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="title-section">
                <h1 data-i18n="title">動漫圖片增強</h1>
                <p class="subtitle" data-i18n="subtitle">專為動漫、插畫風格圖片優化的 AI 超解析度增強</p>
                <div class="privacy-badge">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    <span data-i18n="privacyBadge">100% 本地處理 · 零資料上傳</span>
                </div>
            </div>

            <!-- Model Loading -->
            <div class="model-loading" id="modelLoading">
                <div class="loading-content">
                    <div class="loading-icon">
                        <span class="anime-icon">🎨</span>
                    </div>
                    <h3 data-i18n="loadingModel">正在載入動漫增強模型...</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="loadProgress"></div>
                    </div>
                    <p class="loading-hint" id="loadingStatus" data-i18n="loadingHint">首次載入需下載模型檔案</p>
                </div>
            </div>

            <!-- Upload Area -->
            <div class="upload-area" id="uploadArea" style="display: none;">
                <div class="upload-content">
                    <div class="upload-icon-wrapper">
                        <span class="anime-upload-icon">✨</span>
                    </div>
                    <p class="upload-text" data-i18n="uploadText">點擊或拖放動漫圖片到這裡</p>
                    <p class="upload-hint" data-i18n="uploadHint">支援 JPG、PNG、WebP 格式</p>
                    <div class="supported-types">
                        <span class="type-tag">動漫</span>
                        <span class="type-tag">插畫</span>
                        <span class="type-tag">漫畫</span>
                        <span class="type-tag">遊戲截圖</span>
                    </div>
                </div>
                <input type="file" id="fileInput" accept="image/jpeg,image/png,image/webp" hidden>
            </div>

            <!-- Editor Area -->
            <div class="editor-area" id="editorArea" style="display: none;">
                <!-- Comparison View -->
                <div class="comparison-section">
                    <!-- Slider Comparison -->
                    <div class="comparison-slider" id="comparisonSlider">
                        <canvas id="originalCanvas" class="comparison-canvas"></canvas>
                        <canvas id="resultCanvas" class="comparison-canvas"></canvas>
                        <div class="slider-handle" id="sliderHandle">
                            <div class="handle-line"></div>
                            <div class="handle-circle">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="15 18 9 12 15 6"></polyline>
                                    <polyline points="9 18 15 12 9 6" transform="translate(6, 0)"></polyline>
                                </svg>
                            </div>
                        </div>
                        <div class="comparison-labels">
                            <span class="label-original" data-i18n="original">原圖</span>
                            <span class="label-enhanced" data-i18n="enhanced">增強後</span>
                        </div>
                    </div>

                    <!-- Image Info -->
                    <div class="image-stats">
                        <div class="stat-item">
                            <span class="stat-label" data-i18n="inputSize">輸入尺寸</span>
                            <span class="stat-value" id="inputSizeValue">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label" data-i18n="outputSize">輸出尺寸</span>
                            <span class="stat-value" id="outputSizeValue">-</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label" data-i18n="scaleFactor">放大倍率</span>
                            <span class="stat-value" id="scaleValue">2x</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label" data-i18n="processTime">處理時間</span>
                            <span class="stat-value" id="processTimeValue">-</span>
                        </div>
                    </div>
                </div>

                <!-- Controls Section -->
                <div class="controls-section">
                    <!-- Enhancement Options -->
                    <div class="control-group">
                        <label class="control-label" data-i18n="enhanceOptions">增強選項</label>
                        <div class="option-buttons">
                            <button class="option-btn active" data-scale="2">
                                <span class="option-icon">2x</span>
                                <span data-i18n="scale2x">標準放大</span>
                            </button>
                            <button class="option-btn" data-scale="4">
                                <span class="option-icon">4x</span>
                                <span data-i18n="scale4x">極致放大</span>
                            </button>
                        </div>
                    </div>

                    <!-- Denoise Level -->
                    <div class="control-group">
                        <label class="control-label" data-i18n="denoiseLevel">降噪程度</label>
                        <div class="slider-control">
                            <input type="range" class="slider" id="denoiseSlider" min="0" max="100" value="30">
                            <span class="slider-value" id="denoiseValue">30%</span>
                        </div>
                    </div>

                    <!-- Sharpen Level -->
                    <div class="control-group">
                        <label class="control-label" data-i18n="sharpenLevel">銳化程度</label>
                        <div class="slider-control">
                            <input type="range" class="slider" id="sharpenSlider" min="0" max="100" value="50">
                            <span class="slider-value" id="sharpenValue">50%</span>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="btn btn-secondary" id="resetBtn">
                            <span data-i18n="newImage">選擇新圖片</span>
                        </button>
                        <button class="btn btn-primary" id="downloadBtn">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7 10 12 15 17 10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            <span data-i18n="download">下載結果</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Processing Overlay -->
            <div class="processing-overlay" id="processingOverlay" style="display: none;">
                <div class="processing-content">
                    <div class="processing-animation">
                        <span class="sparkle s1">✨</span>
                        <span class="sparkle s2">⭐</span>
                        <span class="sparkle s3">✨</span>
                    </div>
                    <p class="processing-text" data-i18n="processing">正在增強動漫圖片...</p>
                    <p class="processing-hint" data-i18n="processingHint">AI 正在優化線條與色彩</p>
                </div>
            </div>

            <!-- How It Works -->
            <section class="info-section">
                <h2 data-i18n="howItWorks">如何運作？</h2>
                <div class="info-grid">
                    <div class="info-card">
                        <div class="info-icon">🔍</div>
                        <h3 data-i18n="step1Title">動漫特徵識別</h3>
                        <p data-i18n="step1Desc">AI 識別動漫特有的線條、色塊和紋理特徵</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon">✏️</div>
                        <h3 data-i18n="step2Title">線條強化</h3>
                        <p data-i18n="step2Desc">專門針對動漫線條進行銳化和平滑處理</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon">🎨</div>
                        <h3 data-i18n="step3Title">色彩優化</h3>
                        <p data-i18n="step3Desc">保持動漫風格的色彩鮮豔度和對比度</p>
                    </div>
                    <div class="info-card">
                        <div class="info-icon">📐</div>
                        <h3 data-i18n="step4Title">高解析度輸出</h3>
                        <p data-i18n="step4Desc">輸出清晰銳利的高解析度動漫圖片</p>
                    </div>
                </div>
            </section>

            <!-- Tech Specs -->
            <section class="specs-section">
                <h2 data-i18n="techSpecs">技術規格</h2>
                <div class="specs-grid">
                    <div class="spec-item">
                        <span class="spec-label" data-i18n="specModel">AI 模型</span>
                        <span class="spec-value">Anime SR</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label" data-i18n="specScale">放大倍率</span>
                        <span class="spec-value">2x / 4x</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label" data-i18n="specInput">輸入格式</span>
                        <span class="spec-value">JPG, PNG, WebP</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label" data-i18n="specOutput">輸出格式</span>
                        <span class="spec-value">PNG</span>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p data-i18n="copyright">Awesome AI Local Tools © 2024</p>
        </footer>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>
